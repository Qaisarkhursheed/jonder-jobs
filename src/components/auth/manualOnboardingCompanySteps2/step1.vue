<template>
  <div class="mo-step-1">
    <h1 class="text-center mb-3" style="font-size: 28px">
      Give simple details about your company.
    </h1>

    <v-form v-model="formValid">
      <!-- <v-file-input
        placeholder="Click to upload logo photo"
        outlined
        dense
        v-model="value.profile_img_file"
      ></v-file-input> -->

      <!-- Avatar upload: Move to component  -->
      <div class="d-flex align-center flex-column mt-8 mb-6">
        <v-avatar
          color="#E3F2FB"
          size="120"
          class="flex-grow-0 flex-shrink-0"
          style="cursor: pointer"
          @click="$refs.uploadAvatarInput.click()"
        >
          <v-img v-if="avatar_img" :src="avatar_img"></v-img>
          <v-icon
            size="64"
            color="#6a9cd4"
            v-else
          >
            mdi-cloud-upload
          </v-icon>
        </v-avatar>
        <input
          type="file"
          ref="uploadAvatarInput"
          style="display: none"
          @change="change"
        />
        <div class="avatar-label mt-4">
          Click to upload photo
        </div>
      </div>

      <label class="profile-label">About company</label>
      <v-textarea
        class="mt-3"
        dense
        height="150"
        placeholder="Describe your company"
        outlined
        background-color="white"
        :rules="[validations.required]"
        v-model="value.about_company"
      ></v-textarea>

      <v-btn
        @click="nextScreen"
        :disabled="!formValid"
        height="55"
        class="full-w mt-5 font-weight-medium dark-blue"
      >
        {{ $t("user.onboarding.next") }}
      </v-btn>
    </v-form>
  </div>
</template>

<script>
export default {
  name: "Step1",
  props: {
    value: {
      type: Object,
      required: true
    },
    nextScreen: Function
  },
  data() {
    return {
      formValid: false,
      profile_img: false
    };
  },
  methods: {
    change(e) {
      this.profile_img = this.value.profile_img_file = e.target.files[0];
      // this.value.profile_img_file = e.target.files[0];
      console.log(e);
    }
  },
  computed: {
    avatar_img() {
      if (this.profile_img) {
        return URL.createObjectURL(this.profile_img);
      }
      return false;
    }
  }
};
</script>

<style lang="scss">
.mo-step-1 .v-input__prepend-outer {
  margin-top: 15px !important;
}
</style>

<style scoped lang="scss">
.avatar-label {
  font-weight: normal;
  font-size: 17px;
  color: rgba(43, 43, 43, 0.5);
}
.mo-step-1 {
  &__btn-icon {
    position: absolute;
    left: 5px;
  }
}
</style>
