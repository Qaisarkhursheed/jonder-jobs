(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd947184","chunk-e9b686fe"],{"415b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("jobseeker-layout",[i("div",{staticClass:"d-flex full-h justify-center align-center text-center"},[t.initializing?i("v-progress-circular",{attrs:{indeterminate:"",size:"150",color:"primary"}}):t._e(),t.error?i("div",{staticClass:"text-h4"},[t._v(" "+t._s(t.error.text)+" "),"left-meeting"==t.error.type?i("div",{staticClass:"mt-5"},[i("v-btn",{attrs:{text:"",height:"48"},on:{click:t.attemptJoin}},[t._v(" "+t._s(t.$t("rejoin"))+" ")]),i("v-btn",{staticClass:"ml-3",attrs:{color:"primary",height:"48"},on:{click:function(e){return t.$router.push("/")}}},[t._v(" "+t._s(t.$t("backToHome"))+" ")])],1):t._e()]):t._e(),i("v-card",{staticClass:"full-h full-w",class:{"d-none":t.initializing||t.error},attrs:{id:"jitsi-container",flat:""}})],1)])},r=[],n=(i("d3b7"),i("ec9b")),a={components:{JobseekerLayout:n["default"]},data:function(){return{meeting:null,jitsiApi:null,initializing:!0,error:null}},computed:{user:function(){return this.$store.getters["user/user"]}},created:function(){var t=this;this.$store.dispatch("meetings/fetchByMeetId",this.$route.params.meet_id).then((function(e){var i;t.meeting=null===(i=e.data)||void 0===i?void 0:i.meeting})).finally((function(){t.attemptJoin()}))},methods:{attemptJoin:function(){this.error=null,this.validateMeeting(),this.initJitsi()},validateMeeting:function(){this.meeting?this.meeting.jobseeker_id==this.user.id||this.meeting.employer_id==this.user.id||(this.error={type:"not-allowed",text:this.$t("meetingNotAllowed")}):this.error={type:"not-found",text:this.$t("meetingNotFound")}},initJitsi:function(){var t=this;this.error?this.initializing=!1:(this.initializing=!0,this.jitsiApi=new JitsiMeetExternalAPI("jitsi.jonder.jobs",{roomName:this.meeting.meet_id,width:"100%",height:"100%",parentNode:document.querySelector("#jitsi-container"),userInfo:{id:this.user.id,displayName:this.$options.filters.fullname(this.user),email:this.user.email},configOverwrite:{defaultLanguage:this.user.locale||"de",toolbarButtons:["camera","chat","closedcaptions","desktop","download","etherpad","feedback","filmstrip","fullscreen","hangup","help","microphone","participants-pane","profile","raisehand","select-background","settings","shareaudio","sharedvideo","shortcuts","stats","tileview","toggle-camera","videoquality","__end"]},interfaceConfigOverwrite:{SHOW_JITSI_WATERMARK:!1},onload:function(){t.initializing=!1}}),this.jitsiApi.executeCommand("avatarUrl",this.user.profile_img),this.jitsiApi.executeCommand("toggleTileView"),this.jitsiApi.addEventListener("readyToClose",(function(){t.error={type:"left-meeting",text:t.$t("meetingLeft")},document.querySelector("#jitsi-container").innerHTML=""})))}}},o=a,l=i("2877"),c=i("6544"),d=i.n(c),u=i("8336"),h=i("b0af"),g=i("490a"),m=Object(l["a"])(o,s,r,!1,null,null,null);e["default"]=m.exports;d()(m,{VBtn:u["a"],VCard:h["a"],VProgressCircular:g["a"]})},"615b":function(t,e,i){},b0af:function(t,e,i){"use strict";var s=i("5530"),r=(i("a9e3"),i("0481"),i("615b"),i("10d2")),n=i("297c"),a=i("1c87"),o=i("58df");e["a"]=Object(o["a"])(n["a"],a["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({"v-card":!0},a["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},r["a"].options.computed.classes.call(this))},styles:function(){var t=Object(s["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=n["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),i=e.tag,s=e.data;return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(i,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})}}]);
//# sourceMappingURL=chunk-bd947184.26ecae56.js.map