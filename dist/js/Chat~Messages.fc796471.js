(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Chat~Messages"],{"1c58":function(t,e,i){},2351:function(t,e,i){"use strict";i("845e")},"567a":function(t,e,i){"use strict";i("aefc")},6657:function(t,e,i){},"740d":function(t,e,i){"use strict";i("a205")},"80a7":function(t,e,i){"use strict";i("b082")},"845e":function(t,e,i){},"98f8":function(t,e,i){},a205:function(t,e,i){},a3fb:function(t,e,i){"use strict";i("ecb6")},aefc:function(t,e,i){},b082:function(t,e,i){},bcd3:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.chatLoading?i("v-row",{staticClass:"full-h"},[i("spinner")],1):t.isCompany&&t.isChatEmpty?i("v-row",[i("v-col",[i("ChatEmpty")],1)],1):i("v-row",{staticStyle:{height:"calc(100vh - 150px)","min-height":"500px"}},[t.chatFull?t._e():i("v-col",{staticClass:"full-h",attrs:{cols:"col"}},[i("chat-asside",{staticClass:"full-h flex-grow-1 flex-shrink-1 overflow-list",on:{"item-click":function(e){t.showProfile=!1}}})],1),t.selectedConversation&&t.conversationDetails?i("v-col",{staticClass:"full-h",attrs:{cols:"col"}},[t.showProfile?i("PublicProfile",{staticStyle:{"overflow-y":"auto"},on:{back:function(e){t.showProfile=!1}}}):i("chat-messages",{attrs:{messages:t.selectedConversation,"conversation-details":t.conversationDetails},on:{"chat-full":function(e){t.chatFull=e},"show-profile":function(e){t.showProfile=!0}}})],1):t._e()],1)},s=[],a=i("1da1"),o=i("5530"),r=(i("4de4"),i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"chat-conversations pa-0",attrs:{flat:""}},[i("v-card-title",{staticClass:"chat-conversations-title pl-7 pr-7"},[t._v(" "+t._s(t.$t("messages"))+" ")]),i("v-divider"),i("v-list",{staticClass:"pb-0",attrs:{subheader:""}},[i("v-list-item-group",{attrs:{color:"primary"}},t._l(t.conversations,(function(e,n){return i("div",{key:e.id},[t.showConversation(e)?i("chat-asside-item",{attrs:{conversation:e},on:{loading:function(e){t.loading=e},reload:t.refreshConversations,"item-click":function(e){return t.$emit("item-click")}}}):t._e(),n<t.conversations.length-1&&t.showConversation(e)?i("v-divider"):t._e()],1)})),0)],1),t.loading?i("div",{staticClass:"overlay"}):t._e()],1)}),l=[],c=i("2f62"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.getParticipian(t.conversation)?i("v-list-item",{key:"id-"+t.conversation.id,staticClass:"pt-3 pb-3 pl-7 pr-7",class:{"v-list-item--active":t.conversation.id==t.$store.getters["chat/conversationDetails"].id},on:{click:t.open}},[i("v-list-item-avatar",{staticClass:"text-center",attrs:{color:"primary"}},[t.getProfileImage(t.conversation)?i("v-img",{attrs:{src:t.getProfileImage(t.conversation)}}):i("span",{staticClass:"white--text full-w text-center d-block"},[t._v(" "+t._s(t._f("initials")(t.getParticipian(t.conversation)))+" ")])],1),i("v-list-item-content",[i("v-list-item-title",{staticStyle:{color:"#222222","font-weight":"600"},domProps:{textContent:t._s(t.getFullName(t.conversation))}}),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.getShortMessage(t.conversation))}})],1),i("v-list-item-icon",{staticClass:"flex-column text-right"},[t.getUnreadCount>0?i("v-badge",{staticClass:"ml-auto",attrs:{color:"blue",content:t.getUnreadCount,inline:""}}):t._e(),i("div",{staticClass:"time-label",attrs:{title:t.$options.filters.moment(t.lastMessage,"DD.MM.YYYY HH:mm")}},[t.lastMessage?[t._v(" "+t._s(t._f("moment")(t.lastMessage,"from","now"))+" ")]:t._e()],2)],1)],1):t._e()},d=[],m=i("b85c"),h=(i("2b3d"),i("d3b7"),i("3ca3"),i("ddb0"),i("99af"),i("5319"),i("ac1f"),{props:{conversation:{type:Object,required:!0}},created:function(){this.checkUrl()},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("chat",["unreadMessages"])),{},{getUnreadCount:function(){return this.conversation.unread_messages},lastMessage:function(){return this.conversation.conversation.last_message?this.conversation.conversation.last_message.updated_at:""}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])("chat",["getAllConversations","getSingleConversation","seenMessage"])),Object(c["d"])("chat",["SET_CONVERSATION_DETAILS"])),{},{getParticipian:function(t){var e,i=this.$store.getters["user/user"].id,n=Object(m["a"])(t.conversation.participants);try{for(n.s();!(e=n.n()).done;){var s=e.value;if(s.messageable_id!=i)return s.messageable}}catch(a){n.e(a)}finally{n.f()}return null},getProfileImage:function(t){var e=this.getParticipian(t).profile_img;if(!e)return null;try{var i=new URL(e);return i.href}catch(s){var n=new URL("https://dev.api.jonder.devla.dev/api/v1").origin;return"".concat(n,"/storage/avatars/").concat(e)}},getFullName:function(t){var e=this.getParticipian(t);return e.company||e.first_name+" "+e.last_name},getShortMessage:function(t){return t.conversation.last_message?"upload"==t.conversation.last_message.type?this.$t("file"):"meeting"==t.conversation.last_message.type?this.$t("meeting"):t.conversation.last_message?t.conversation.last_message.body.substr(0,50):"-":""},checkUrl:function(){this.$route.params.id&&parseInt(this.$route.params.id)===parseInt(this.conversation.user_id)&&(this.open(),this.$route.params.company||this.$router.replace("/dashboard/chat"))},open:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$emit("loading",!0),t.$emit("item-click"),i=t.getParticipian(t.conversation),t.SET_CONVERSATION_DETAILS({id:t.conversation.id,user_id:i.id,user_name:t.getFullName(t.conversation),unread_messages:t.conversation.unread_messages,profile_img:i.profile_img,starred:!!t.conversation.selection_managment.length,user:i}),e.next=6,t.getSingleConversation({id:t.conversation.id});case 6:t.getAllConversations(),t.$emit("refresh",!1),t.$emit("loading",!1);case 9:case"end":return e.stop()}}),e)})))()}})}),p=h,f=(i("2351"),i("2877")),g=i("6544"),v=i.n(g),b=i("15fd"),_=(i("a9e3"),i("ff44"),i("132d")),y=i("a9ad"),w=i("7560"),C=i("f2e7"),k=i("f40d"),x=i("fe6c"),D=i("58df"),$=i("80d2"),M=Object(D["a"])(y["a"],Object(x["b"])(["left","bottom"]),w["a"],C["a"],k["a"]).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return Object(o["a"])({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object($["g"])(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),i=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),n=this.$createElement("span",i,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[n]):n},genBadgeContent:function(){if(!this.dot){var t=Object($["s"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(_["a"],this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],i=[Object($["s"])(this)],n=this.$attrs,s=(n["aria-atomic"],n["aria-label"],n["aria-live"],n.role,n.title,Object(b["a"])(n,["aria-atomic","aria-label","aria-live","role","title"]));return this.inline&&this.left?i.unshift(e):i.push(e),t("span",{staticClass:"v-badge",attrs:s,class:this.classes},i)}}),S=i("adda"),V=i("da13"),O=i("8270"),P=i("5d23"),j=i("34c3"),T=Object(f["a"])(p,u,d,!1,null,null,null),A=T.exports;v()(T,{VBadge:M,VImg:S["a"],VListItem:V["a"],VListItemAvatar:O["a"],VListItemContent:P["a"],VListItemIcon:j["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"]});var I={components:{ChatAssideItem:A},data:function(){return{loading:!1}},computed:Object(c["c"])("chat",["conversations"]),methods:{refreshConversations:function(){this.$store.dispatch("chat/getAllConversations")},showConversation:function(t){var e=this.$store.getters["chat/conversationDetails"].id;return t.id==e||t.ids.length&&t.conversation.last_message}}},H=I,L=(i("ec01"),i("b0af")),B=i("99d9"),E=i("ce7e"),F=i("8860"),R=i("1baa"),N=Object(f["a"])(H,r,l,!1,null,null,null),U=N.exports;v()(N,{VCard:L["a"],VCardTitle:B["d"],VDivider:E["a"],VList:F["a"],VListItemGroup:R["a"]});var Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.conversationDetails?i("v-card",{staticClass:"messages-holder full-h d-flex flex-column pa-0",attrs:{flat:""}},[i("v-card-title",{staticClass:"flex-grow-0 flex-shrink-0 pb-5 pt-5"},[i("v-list-item",{staticClass:"grow"},[i("v-list-item-avatar",{attrs:{color:"primary"}},[t.conversationDetails.profile_img?i("v-img",{attrs:{alt:t.conversationDetails.user_name+" avatar",src:t.getProfileImage(t.conversationDetails)}}):i("span",{staticClass:"white--text full-w text-center d-block"},[t._v(" "+t._s(t._f("initials")(t.conversationDetails.user))+" ")])],1),i("v-list-item-content",[i("v-list-item-title",{staticStyle:{"font-weight":"600"}},[t._v(" "+t._s(t.conversationDetails.user_name)+" ")])],1),i("v-row",{attrs:{align:"center",justify:"end"}},["Jobseeker"==t.conversationDetails.user.role?i("v-icon",{staticClass:"chat-icon mr-3",attrs:{color:t.conversationDetails.starred?"#0253B3":null},on:{click:t.handleStarIconClick}},[t._v(" "+t._s(t.conversationDetails.starred?"mdi-star":"mdi-star-outline")+" ")]):t._e(),i("v-icon",{staticClass:"chat-icon mr-3",on:{click:function(e){return t.$emit("show-profile")}}},[t._v(" mdi-information-outline ")]),i("v-icon",{staticClass:"chat-icon mr-3",on:{click:function(e){t.chatFull=!t.chatFull,t.$emit("chat-full",t.chatFull)}}},[t._v(" "+t._s(t.chatFull?"mdi-arrow-collapse":"mdi-arrow-expand")+" ")]),i("v-icon",{staticClass:"chat-icon",on:{click:function(e){t.$store.commit("chat/CLEAR_SINGLE_CONVERSATION"),t.$emit("chat-full",!1)}}},[t._v(" mdi-close ")])],1)],1)],1),i("div",{staticClass:"pl-5 pr-5 flex-grow-1 flex-shrink-1 overflow-list"},[i("v-card-text",{staticClass:"messages-content pa-5 full-h flex-grow-1 flex-shrink-1 overflow-list",attrs:{id:"messageList"}},t._l(t.messages,(function(e,n){return i("div",{key:e.id,class:{"text-right":e.is_sender}},[0===n||e.created_at.substr(0,10)!=t.messages[n-1].created_at.substr(0,10)?i("div",{staticClass:"day-in-chat"},[i("span",[t._v(t._s(t._f("moment")(e.created_at,"ddd, DD/MM")))])]):t._e(),"meeting"==e.type?i("MeetingChatBox",{staticClass:"mx-auto mb-4",staticStyle:{"max-width":"360px"},attrs:{meeting:JSON.parse(e.body),reciever:t.$store.getters["user/user"].role.toLowerCase()}}):i("v-card",{staticClass:"message rounded-lg pa-0",class:[{"my-message":e.is_sender},[e.is_sender?"rounded-tr-0":"rounded-tl-0"]],attrs:{flat:""}},[i("v-card-text",["text"==e.type?i("div",{staticStyle:{"text-align":"left","white-space":"pre-wrap"},domProps:{textContent:t._s(e.body)}}):t._e(),"upload"==e.type?i("div",[t.isImage(e)?i("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.getFileData(e).url}}):i("a",{attrs:{href:t.getFileData(e).url,target:"_blank"}},[t._v(" "+t._s(t.getFileData(e).name)+" ")])]):t._e(),i("small",{attrs:{title:t.$options.filters.moment(e.created_at,"DD.MM.YYYY HH:mm")}},[t._v(" "+t._s(t._f("moment")(e.created_at,"from","now"))+" ")])])],1)],1)})),0)],1),i("v-card-actions",{staticClass:"flex-grow-0 flex-shrink-0 pa-5 message-type-new"},[i("v-file-input",{staticClass:"pa-0",class:{"file-set":t.newFile},attrs:{"hide-input":""},model:{value:t.newFile,callback:function(e){t.newFile=e},expression:"newFile"}}),i("v-textarea",{staticStyle:{width:"100%","border-radius":"30px"},attrs:{label:t.$t("messageNow"),outlined:"",solo:"",flat:"","hide-details":"","background-color":"white",rows:"1","auto-grow":""},on:{drop:function(e){return e.preventDefault(),t.handleTextareaDrop(e)}},model:{value:t.newMessage,callback:function(e){t.newMessage=e},expression:"newMessage"}},[t._v(t._s(t.$t("message"))+" ")]),"Employer"==t.$store.getters["user/user"].role?i("MeetingForm",{attrs:{jobseeker:t.conversationDetails.user}}):t._e(),i("MessageTemplatesPicker",{on:{submit:function(e){return t.send(e)}}}),i("v-icon",{staticClass:"ml-2",attrs:{disabled:t.sending,size:"30"},on:{click:function(e){return t.send(null)}}},[t._v(" mdi-send-circle ")])],1)],1):t._e()},q=[],z=(i("466d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{width:"800","overlay-color":"#0253B3","overlay-opacity":"0.3"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"ml-2",class:{"d-none":!t.templates.length}},"v-icon",s,!1),n),[t._v(" mdi-message-bulleted ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.$store.getters["messageTemplates/loadingFetch"]?t._e():i("v-card",{staticClass:"message-templates-picker"},[i("h1",{staticClass:"pb-4 mb-4",staticStyle:{"border-bottom":"1px solid #E9E9E9"}},[t._v(" "+t._s(t.$t("messageTemplates"))+" ")]),i("v-row",[i("v-col",{staticClass:"template-list",staticStyle:{"max-height":"370px",overflow:"auto"},attrs:{cols:"4"}},[t._l(t.templates,(function(e){return[i("div",{key:e.id,staticClass:"pa-3 font-weight-bold hover-pointer",class:{active:e.id==t.selectedTemplate.id},staticStyle:{"border-radius":"6px"},on:{click:function(i){return t.selectTemplate(e)}}},[t._v(" "+t._s(e.title)+" ")])]}))],2),i("v-col",{attrs:{cols:"col"}},[i("v-form",{ref:"form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[i("label",{staticClass:"profile-label"},[t._v(" "+t._s(t.$t("templateName"))+" ")]),i("v-text-field",{attrs:{type:"text",disabled:"",dense:"",solo:"",outlined:"",flat:"","background-color":"white"},model:{value:t.selectedTemplate.title,callback:function(e){t.$set(t.selectedTemplate,"title",e)},expression:"selectedTemplate.title"}}),i("label",{staticClass:"profile-label"},[t._v(" "+t._s(t.$t("templateContent"))+" ")]),i("v-textarea",{attrs:{type:"text",rules:[t.validations.required],dense:"",outlined:"",flat:"","background-color":"white"},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}}),i("ResponseAlert",{attrs:{response:t.formResponse}}),i("div",{staticClass:"d-flex justify-end"},[i("v-btn",{attrs:{text:"",height:"48"},on:{click:t.close}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("v-btn",{staticClass:"ml-3 dark-blue px-10",attrs:{type:"submit",disabled:!t.isValid,color:"primary",height:"48"}},[t._v(" "+t._s(t.$t("send"))+" ")])],1)],1)],1)],1)],1)],1)}),X=[],J=i("6461"),W={components:{ResponseAlert:J["a"]},data:function(){return{selectedTemplate:{},templates:[],dialog:!1,isValid:!1,formData:{},formResponse:{}}},watch:{dialog:function(t){t&&this.selectTemplate(this.templates[0])}},created:function(){var t=this;this.$store.dispatch("messageTemplates/fetch",{per_page:200}).then((function(e){t.templates=e.data.data}))},methods:{selectTemplate:function(t){this.selectedTemplate=Object.assign({},t),this.formData.text=this.selectedTemplate.text},close:function(){this.dialog=!1,this.$refs.form.reset()},submit:function(){this.$emit("submit",this.formData.text),this.close()}}},G=W,K=(i("a3fb"),i("8336")),Q=i("62ad"),Z=i("169a"),tt=i("4bd4"),et=i("0fd9"),it=i("8654"),nt=i("a844"),st=Object(f["a"])(G,z,X,!1,null,null,null),at=st.exports;v()(st,{VBtn:K["a"],VCard:L["a"],VCol:Q["a"],VDialog:Z["a"],VForm:tt["a"],VIcon:_["a"],VRow:et["a"],VTextField:it["a"],VTextarea:nt["a"]});var ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{width:"450","overlay-color":"#0253B3","overlay-opacity":"0.3","content-class":"meeting-form"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("div",t._g(t._b({staticClass:"d-inline meeting-form-button"},"div",s,!1),n),[t._t("default",[i("v-icon",{staticClass:"ml-2",attrs:{size:"33"}},[t._v(" mdi-video-plus-outline ")])])],2)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("h1",{staticClass:"mb-4",staticStyle:{"font-size":"26px"}},[t._v(" "+t._s(t.meeting?t.$t("meetingProposeDiffDate"):t.$t("meetingRequest"))+" ")]),i("v-form",{ref:"form",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}},model:{value:t.isValid,callback:function(e){t.isValid=e},expression:"isValid"}},[i("v-row",[i("v-col",{attrs:{cols:"auto"}},[i("v-icon",[t._v(" mdi-calendar-month ")])],1),i("v-col",{attrs:{cols:"col"}},[i("DatePicker",{attrs:{rules:[t.validations.required],min:t._f("moment")(new Date,"YYYY-MM-DD")},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"auto"}},[i("v-icon",[t._v(" mdi-clock ")])],1),i("v-col",{attrs:{cols:"col"}},[i("TimePicker",{attrs:{rules:[t.validations.required]},model:{value:t.formData.startTime,callback:function(e){t.$set(t.formData,"startTime",e)},expression:"formData.startTime"}})],1),i("v-col",{staticClass:"px-0",attrs:{cols:"auto"}},[t._v("‐")]),i("v-col",{attrs:{cols:"col"}},[i("TimePicker",{attrs:{rules:[t.validations.required]},model:{value:t.formData.endTime,callback:function(e){t.$set(t.formData,"endTime",e)},expression:"formData.endTime"}})],1)],1),i("ResponseAlert",{staticClass:"mt-5",attrs:{response:t.formResponse}}),i("div",{staticClass:"text-right mt-5"},[i("v-btn",{attrs:{text:"",height:"48"},on:{click:function(e){t.dialog=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("v-btn",{staticClass:"ml-3 px-10 px-md-15",attrs:{type:"submit",color:"primary",height:"48",disabled:!t.isValid,loading:t.$store.getters["meetings/loadingCreate"]||!!t.$store.getters["meetings/loadingUpdate"]}},[t._v(" "+t._s(t.$t("send"))+" ")])],1)],1)],1)],1)},rt=[],lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-text-field",t._g(t._b({style:t.textFieldStyle,attrs:{"prepend-icon":t.prependIcon,readonly:t.readonly,rules:t.rules,"hide-details":t.hideDetails,outlined:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",s,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{attrs:{min:t.min,max:t.max},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)},ct=[],ut={props:{value:{type:String},textFieldStyle:{type:[String,Object],default:null},hideDetails:{type:[Boolean,String],default:"auto"},prependIcon:{type:String,required:!1},readonly:{type:Boolean,default:!0},rules:{type:Array,default:function(){return[]}},min:{type:String,required:!1},max:{type:String,required:!1}},data:function(){return{date:"",menu:!1}},watch:{value:function(t){this.date=t},date:function(t){this.$emit("input",t)}},created:function(){this.date=this.value}},dt=ut,mt=i("2e4b"),ht=i("e449"),pt=Object(f["a"])(dt,lt,ct,!1,null,null,null),ft=pt.exports;v()(pt,{VDatePicker:mt["a"],VMenu:ht["a"],VTextField:it["a"]});var gt,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-text-field",t._g(t._b({style:t.textFieldStyle,attrs:{"prepend-icon":t.prependIcon,rules:t.rules,readonly:t.readonly,"hide-details":t.hideDetails,outlined:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},"v-text-field",s,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t.menu?i("v-time-picker",{attrs:{"full-width":"",scrollable:"",format:t.format,min:t.min,max:t.max,"allowed-minutes":function(t){return t%5===0}},on:{"click:minute":function(e){return t.$refs.menu.save(t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1)},bt=[],_t={props:{value:{type:String},textFieldStyle:{type:[String,Object],default:null},hideDetails:{type:[Boolean,String],default:"auto"},prependIcon:{type:String,required:!1},readonly:{type:Boolean,default:!0},rules:{type:Array,default:function(){return[]}},format:{type:String,default:"24hr"},min:{type:String,required:!1},max:{type:String,required:!1}},data:function(){return{time:"",menu:!1}},watch:{value:function(t){this.time=t},time:function(t){this.$emit("input",t)}},created:function(){this.time=this.value}},yt=_t,wt=i("3835"),Ct=(i("d81d"),i("caad"),i("2532"),i("1276"),i("498a"),i("7db0"),i("e635"),i("daf1")),kt=i("50de");(function(t){t[t["Hour"]=1]="Hour",t[t["Minute"]=2]="Minute",t[t["Second"]=3]="Second"})(gt||(gt={}));var xt=Object(D["a"])(Ct["a"]).extend({name:"v-time-picker-title",props:{ampm:Boolean,ampmReadonly:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?String(t):Object(kt["a"])(t),i=null==this.minute?"--":Object(kt["a"])(this.minute),n=[this.genPickerButton("selecting",gt.Hour,e,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",gt.Minute,i,this.disabled)];if(this.useSeconds){var s=null==this.second?"--":Object(kt["a"])(this.second);n.push(this.$createElement("span",":")),n.push(this.genPickerButton("selecting",gt.Second,s,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},n)},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm",class:{"v-time-picker-title__ampm--readonly":this.ampmReadonly}},[this.ampmReadonly&&"am"!==this.period?null:this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.ampmReadonly&&"pm"!==this.period?null:this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])}},render:function(t){var e=[this.genTime()];return this.ampm&&e.push(this.genAmPm()),t("div",{staticClass:"v-time-picker-title"},e)}}),Dt=(i("2af1"),i("1c58"),Object(D["a"])(y["a"],w["a"]).extend({name:"v-time-picker-clock",props:{allowedValues:Function,ampm:Boolean,disabled:Boolean,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadiusScale:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=Math.sign(-t.deltaY||1),i=this.displayedValue;do{i+=e,i=(i-this.min+this.count)%this.count+this.min}while(!this.isAllowed(i)&&i!==this.displayedValue);i!==this.displayedValue&&this.update(i)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadiusScale:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var i=e===this.value&&(this.color||"accent");t.push(this.$createElement("span",this.setBackgroundColor(i,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":e===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(e)},style:this.getTransform(e),domProps:{innerHTML:"<span>".concat(this.format(e),"</span>")}})))}return t},genHand:function(){var t="scaleY(".concat(this.handScale(this.displayedValue),")"),e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),i=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(i,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate(".concat(e,"deg) ").concat(t)}}))},getTransform:function(t){var e=this.getPosition(t),i=e.x,n=e.y;return{left:"".concat(50+50*i,"%"),top:"".concat(50+50*n,"%")}},getPosition:function(t){var e=this.rotate*Math.PI/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(t){t.stopPropagation(),this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),(this.isDragging||"click"===t.type)&&this.$refs.clock)for(var e,i=this.$refs.clock.getBoundingClientRect(),n=i.width,s=i.top,a=i.left,o=this.$refs.innerClock.getBoundingClientRect(),r=o.width,l=("touches"in t?t.touches[0]:t),c=l.clientX,u=l.clientY,d={x:n/2,y:-n/2},m={x:c-a,y:s-u},h=Math.round(this.angle(d,m)-this.rotate+360)%360,p=this.double&&this.euclidean(d,m)<(r+r*this.innerRadiusScale)/4,f=Math.ceil(15/this.degreesPerUnit),g=0;g<f;g++){if(e=this.angleToValue(h+g*this.degreesPerUnit,p),this.isAllowed(e))return this.setMouseDownValue(e);if(e=this.angleToValue(h-g*this.degreesPerUnit,p),this.isAllowed(e))return this.setMouseDownValue(e)}},angleToValue:function(t,e){var i=(Math.round(t/this.degreesPerUnit)+(e?this.roundCount:0))%this.count+this.min;return t<360-this.degreesPerUnit/2?i:e?this.max-this.roundCount+1:this.min},setMouseDownValue:function(t){null===this.valueOnMouseDown&&(this.valueOnMouseDown=t),this.valueOnMouseUp=t,this.update(t)},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},angle:function(t,e){var i=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*i/Math.PI)}},render:function(t){var e=this,i={staticClass:"v-time-picker-clock",class:Object(o["a"])({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly||this.disabled?void 0:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(t){return e.isDragging&&e.onMouseUp(t)},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},ref:"clock"};return this.scrollable&&i.on&&(i.on.wheel=this.wheel),t("div",i,[t("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}})),$t=i("4754"),Mt=Object($["h"])(24),St=Object($["h"])(12),Vt=St.map((function(t){return t+12})),Ot=Object($["h"])(60),Pt={1:"hour",2:"minute",3:"second"},jt=Object(D["a"])($t["a"],Ct["a"]).extend({name:"v-time-picker",props:{allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data:function(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:gt.Hour}},computed:{selectingHour:{get:function(){return this.selecting===gt.Hour},set:function(t){this.selecting=gt.Hour}},selectingMinute:{get:function(){return this.selecting===gt.Minute},set:function(t){this.selecting=gt.Minute}},selectingSecond:{get:function(){return this.selecting===gt.Second},set:function(t){this.selecting=gt.Second}},isAllowedHourCb:function(){var t,e=this;if(t=this.allowedHours instanceof Array?function(t){return e.allowedHours.includes(t)}:this.allowedHours,!this.min&&!this.max)return t;var i=this.min?Number(this.min.split(":")[0]):0,n=this.max?Number(this.max.split(":")[0]):23;return function(e){return e>=1*i&&e<=1*n&&(!t||t(e))}},isAllowedMinuteCb:function(){var t,e=this,i=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(t=this.allowedMinutes instanceof Array?function(t){return e.allowedMinutes.includes(t)}:this.allowedMinutes,!this.min&&!this.max)return i?t:function(){return!1};var n=this.min?this.min.split(":").map(Number):[0,0],s=Object(wt["a"])(n,2),a=s[0],o=s[1],r=this.max?this.max.split(":").map(Number):[23,59],l=Object(wt["a"])(r,2),c=l[0],u=l[1],d=60*a+1*o,m=60*c+1*u;return function(n){var s=60*e.inputHour+n;return s>=d&&s<=m&&i&&(!t||t(n))}},isAllowedSecondCb:function(){var t,e=this,i=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour),n=i&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(t=this.allowedSeconds instanceof Array?function(t){return e.allowedSeconds.includes(t)}:this.allowedSeconds,!this.min&&!this.max)return n?t:function(){return!1};var s=this.min?this.min.split(":").map(Number):[0,0,0],a=Object(wt["a"])(s,3),o=a[0],r=a[1],l=a[2],c=this.max?this.max.split(":").map(Number):[23,59,59],u=Object(wt["a"])(c,3),d=u[0],m=u[1],h=u[2],p=3600*o+60*r+1*(l||0),f=3600*d+60*m+1*(h||0);return function(i){var s=3600*e.inputHour+60*e.inputMinute+i;return s>=p&&s<=f&&n&&(!t||t(i))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted:function(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue:function(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:"".concat(Object(kt["a"])(this.inputHour),":").concat(Object(kt["a"])(this.inputMinute))+(this.useSeconds?":".concat(Object(kt["a"])(this.inputSecond)):"")},emitValue:function(){var t=this.genValue();null!==t&&this.$emit("input",t)},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes(),this.inputSecond=t.getSeconds();else{var e=t.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6),i=Object(wt["a"])(e,6),n=i[1],s=i[2],a=i[4],o=i[5];this.inputHour=o?this.convert12to24(parseInt(n,10),o):parseInt(n,10),this.inputMinute=parseInt(s,10),this.inputSecond=parseInt(a||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selecting===gt.Hour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.selecting===gt.Minute?this.inputMinute=t:this.inputSecond=t,this.emitValue()},onChange:function(t){this.$emit("click:".concat(Pt[this.selecting]),t);var e=this.selecting===(this.useSeconds?gt.Second:gt.Minute);if(this.selecting===gt.Hour?this.selecting=gt.Minute:this.useSeconds&&this.selecting===gt.Minute&&(this.selecting=gt.Second),this.inputHour!==this.lazyInputHour||this.inputMinute!==this.lazyInputMinute||this.useSeconds&&this.inputSecond!==this.lazyInputSecond){var i=this.genValue();null!==i&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),e&&this.$emit("change",i))}},firstAllowed:function(t,e){var i="hour"===t?this.isAllowedHourCb:"minute"===t?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!i)return e;var n="minute"===t||"second"===t?Ot:this.isAmPm?e<12?St:Vt:Mt,s=n.find((function(t){return i((t+e)%n.length+n[0])}));return((s||0)+e)%n.length+n[0]},genClock:function(){return this.$createElement(Dt,{props:{allowedValues:this.selecting===gt.Hour?this.isAllowedHourCb:this.selecting===gt.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===gt.Hour&&!this.isAmPm,format:this.selecting===gt.Hour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(kt["a"])(t,2)},light:this.light,max:this.selecting===gt.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===gt.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===gt.Hour?1:5,value:this.selecting===gt.Hour?this.inputHour:this.selecting===gt.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm:function(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(xt,{props:{ampm:this.isAmPm,ampmReadonly:this.isAmPm&&!this.ampmInTitle,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":function(e){return t.selecting=e},"update:period":function(e){return t.$emit("update:period",e)}},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}}),Tt=Object(f["a"])(yt,vt,bt,!1,null,null,null),At=Tt.exports;v()(Tt,{VMenu:ht["a"],VTextField:it["a"],VTimePicker:jt});var It=i("c1df"),Ht=i.n(It),Lt={components:{DatePicker:ft,TimePicker:At},props:{jobseeker:{type:Object,required:!1},meeting:{type:Object,required:!1}},data:function(){return{dialog:!1,isValid:!1,formData:{startTime:"",endTime:"",date:""},formResponse:{}}},watch:{dialog:function(t){t&&(this.formResponse={},this.populateData())}},methods:{populateData:function(){if(this.meeting)this.formData.startTime=this.moment(this.meeting.date_start,"HH:mm"),this.formData.endTime=this.moment(this.meeting.date_end,"HH:mm"),this.formData.date=this.moment(this.meeting.date_start,"YYYY-MM-DD");else{var t=5*Math.ceil(Ht()().minute()/5);this.formData.startTime=Ht()().minute(t).second(0).format("HH:mm"),this.formData.endTime=Ht()().minute(t).second(0).add("30","minutes").format("HH:mm"),this.formData.date=Ht()().format("YYYY-MM-DD")}},submit:function(){var t=this,e=this.meeting?"changeDate":"create";this.$store.dispatch("meetings/".concat(e),this.formatFormData()).then((function(e){t.$emit("update:meeting",e.data.meeting),t.dialog=!1})).catch((function(e){t.formResponse=e.data}))},formatFormData:function(){var t,e;return{id:null===(t=this.meeting)||void 0===t?void 0:t.id,jobseeker_id:null===(e=this.jobseeker)||void 0===e?void 0:e.id,date_start:"".concat(this.formData.date," ").concat(this.formData.startTime),date_end:"".concat(this.formData.date," ").concat(this.formData.endTime)}},moment:function(t,e){return this.$options.filters.moment(t,e)}}},Bt=Lt,Et=(i("80a7"),Object(f["a"])(Bt,ot,rt,!1,null,null,null)),Ft=Et.exports;v()(Et,{VBtn:K["a"],VCard:L["a"],VCol:Q["a"],VDialog:Z["a"],VForm:tt["a"],VIcon:_["a"],VRow:et["a"]});var Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"meeting-chat-box pa-5 text-left",attrs:{flat:""}},[i("h3",{staticClass:"mb-2",staticStyle:{"font-size":"16px","font-weight":"600"}},[t._v(" "+t._s(t.$t("meetingRequest"))+" ")]),i("div",{staticClass:"mb-1",style:{opacity:"declined"==t.meetingLocal.status?.5:1}},[t._v(" "+t._s(t._f("moment")(t.meetingLocal.date_start,"dddd, MMMM DD"))+" "),i("v-icon",{staticStyle:{"vertical-align":"-1px"},attrs:{color:"primary",size:"15"}},[t._v(" "+t._s("mdi-circle-medium")+" ")]),t._v(" "+t._s(t._f("moment")(t.meetingLocal.date_start,"HH:mm"))+" ‐ "+t._s(t._f("moment")(t.meetingLocal.date_end,"HH:mm"))+" ")],1),i("div",{staticStyle:{"font-weight":"600"},style:{color:t.status.color}},[t._v(" "+t._s(t.status.text)+" ")]),"accepted"==t.meetingLocal.status?i("div",{staticClass:"mt-2"},[i("v-icon",{staticClass:"mr-2",attrs:{color:"primary",size:"20"},on:{click:t.copyLink}},[t._v(" "+t._s(t.copyLinkSuccess?"mdi-checkbox-multiple-marked-outline":"mdi-checkbox-multiple-blank-outline")+" ")]),i("a",{staticStyle:{"font-weight":"600","text-decoration":"none"},attrs:{href:t.meetingLocal.link,target:"_blank",rel:"noopener noreferrer"}},[t._v(t._s(t.visibleLink)+" ")])],1):t._e(),t.showResponseButtons?i("div",{staticClass:"response-buttons mt-2"},[t.$store.getters["meetings/loadingUpdate"]==t.meetingLocal.id?i("div",{staticClass:"full-w text-center"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):[i("a",{staticStyle:{color:"#20E070"},on:{click:function(e){return e.preventDefault(),t.acceptMeeting(e)}}},[t._v(t._s(t.$t("accept")))]),i("DeclineMeetingDialog",{on:{decline:t.declineMeeting,changedate:t.openMeetingForm}}),i("MeetingForm",{attrs:{meeting:t.meetingLocal},on:{"update:meeting":function(e){t.meetingLocal=e}}},[i("a",{staticStyle:{color:"#0253b3"}},[t._v(t._s(t.$t("meetingProposeDiffDate"))+" ")])])]],2):t._e()])},Nt=[],Ut=(i("9911"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{width:"550","overlay-color":"#0253B3","overlay-opacity":"0.3","content-class":"meeting-form text-center"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("div",t._g(t._b({staticClass:"d-inline"},"div",s,!1),n),[t._t("default",[i("a",{staticClass:"mx-2",staticStyle:{color:"#EE0000"}},[t._v(t._s(t.$t("decline")))])])],2)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("h1",{staticClass:"mb-4"},[t._v(" "+t._s(t.$t("meetingDecline"))+" ")]),i("p",{domProps:{innerHTML:t._s(t.$t("meetingDeclineText"))}}),i("div",[i("v-btn",{attrs:{text:"",height:"48"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("v-btn",{staticClass:"mx-3",attrs:{color:"primary",height:"48"},on:{click:t.changeDate}},[t._v(" "+t._s(t.$t("meetingProposeDate"))+" ")]),i("v-btn",{attrs:{color:"error",height:"48"},on:{click:t.decline}},[t._v(" "+t._s(t.$t("decline"))+" ")])],1)])],1)}),Yt=[],qt={data:function(){return{dialog:!1}},methods:{cancel:function(){this.dialog=!1},decline:function(){this.$emit("decline"),this.dialog=!1},changeDate:function(){this.$emit("changedate"),this.dialog=!1}}},zt=qt,Xt=Object(f["a"])(zt,Ut,Yt,!1,null,null,null),Jt=Xt.exports;v()(Xt,{VBtn:K["a"],VCard:L["a"],VDialog:Z["a"]});var Wt={components:{DeclineMeetingDialog:Jt,MeetingForm:Ft},props:{reciever:{type:String,required:!0},meeting:{type:Object,required:!0}},data:function(){return{meetingLocal:null,copyLinkSuccess:!1,declineMeetingDialog:!1}},computed:{visibleLink:function(){return this.meetingLocal.link.length>50?this.meetingLocal.link.replace("jonder-staging.plutuswork.com","jonder.jobs"):this.meetingLocal.link},status:function(){switch(this.meetingLocal.status){case"pending":return{text:this.$t("meetingWaitingForResponse"),color:"#999999"};case"accepted":return{text:this.$t("meetingAccepted"),color:"#20E070"};case"declined":return{text:this.$t("meetingDeclined"),color:"#EE0000"};case"date_changed":return{text:"".concat(this.$t("meetingDateChanged")," ").concat(this.$t("meetingWaitingForResponse")),color:"#FFA500"};default:return{text:"-",color:"black"}}},showResponseButtons:function(){if("pending"==this.meetingLocal.status&&"jobseeker"==this.reciever)return!0;if("date_changed"==this.meetingLocal.status){if(this.meetingLocal.updated_by==this.meetingLocal.jobseeker_id&&"employer"==this.reciever)return!0;if(this.meetingLocal.updated_by==this.meetingLocal.employer_id&&"jobseeker"==this.reciever)return!0}return!1}},watch:{meeting:function(t){this.meetingLocal=t}},created:function(){this.meetingLocal=this.meeting},methods:{acceptMeeting:function(){var t=this;this.$store.dispatch("meetings/accept",this.meetingLocal.id).then((function(e){return t.meetingLocal=e.data.meeting}))},declineMeeting:function(){var t=this;this.$store.dispatch("meetings/decline",this.meetingLocal.id).then((function(e){return t.meetingLocal=e.data.meeting}))},openMeetingForm:function(){document.querySelector(".meeting-form-button").click()},copyLink:function(){var t=this;navigator.clipboard.writeText(this.meetingLocal.link),this.copyLinkSuccess=!0,setTimeout((function(){t.copyLinkSuccess=!1}),1e3)}}},Gt=Wt,Kt=(i("567a"),i("490a")),Qt=Object(f["a"])(Gt,Rt,Nt,!1,null,null,null),Zt=Qt.exports;v()(Qt,{VCard:L["a"],VIcon:_["a"],VProgressCircular:Kt["a"]});var te={components:{MessageTemplatesPicker:at,MeetingForm:Ft,MeetingChatBox:Zt},props:{messages:{type:Array,required:!0},conversationDetails:{type:Object,required:!0}},data:function(){return{newMessage:"",newFile:null,sending:!1,chatFull:!1}},mounted:function(){this.scrollToBottom(),console.log("this.conversationDetails",this.conversationDetails)},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])("chat",["sendMessage","getSingleConversation"])),Object(c["b"])("stats",["updateMessageYou"])),{},{scrollToBottom:function(){var t=document.getElementById("messageList");setTimeout((function(){t.scrollTo(t.scrollLeft,999999999)}),100)},send:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=e||this.newMessage;(i||this.newFile)&&(this.sending=!0,this.sendMessage({id:this.conversationDetails.id,file:this.newFile,message:i}).then((function(){t.newMessage="",t.newFile=null,setTimeout(t.scrollToBottom,1e3)})).finally((function(){t.sending=!1})))},getProfileImage:function(t){var e=t.profile_img;if(!e)return null;try{var i=new URL(e);return i.href}catch(s){var n=new URL("https://dev.api.jonder.devla.dev/api/v1").origin;return"".concat(n,"/storage/avatars/").concat(e)}},isImage:function(t){return"upload"==t.type&&this.getFileData(t).path.match(/.(jpg|jpeg|png|gif)$/i)},getFileData:function(t){return JSON.parse(t.body)},handleStarIconClick:function(){var t=this;this.conversationDetails.starred?this.$store.dispatch("company/slManagementDeleteCandidate",this.conversationDetails.user_id).then((function(){t.conversationDetails.starred=!1})):this.$store.dispatch("company/slManagementAddCandidate",{jobseeker_id:this.conversationDetails.user_id,managment_status:"Saved candidates"}).then((function(){t.conversationDetails.starred=!0}))},handleTextareaDrop:function(t){if(t.dataTransfer.items){for(var e=0;e<t.dataTransfer.items.length;e++)if("file"===t.dataTransfer.items[e].kind){this.newFile=t.dataTransfer.items[e].getAsFile();break}}else for(var i=0;i<t.dataTransfer.files.length;i++){this.newFile=t.dataTransfer.files[i];break}}}),watch:{conversationDetails:function(){var t=this;setTimeout((function(){t.scrollToBottom()}),500)}}},ee=te,ie=(i("eb2f"),i("23a7")),ne=Object(f["a"])(ee,Y,q,!1,null,null,null),se=ne.exports;v()(ne,{VCard:L["a"],VCardActions:B["a"],VCardText:B["c"],VCardTitle:B["d"],VFileInput:ie["a"],VIcon:_["a"],VImg:S["a"],VListItem:V["a"],VListItemAvatar:O["a"],VListItemContent:P["a"],VListItemTitle:P["c"],VRow:et["a"],VTextarea:nt["a"]});var ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"messages-holder full-h d-flex flex-column",staticStyle:{background:"white"},attrs:{flat:""}},[i("v-row",{staticClass:"pt-8 px-5 pb-4 mx-0",staticStyle:{flex:"unset","border-bottom":"1px solid #E3E3E4"}},[i("v-col",{staticClass:"d-flex my-auto",attrs:{cols:"auto"}},[i("v-icon",{attrs:{color:"black"},on:{click:function(e){return t.$emit("back")}}},[t._v(" mdi-arrow-left ")])],1),i("v-col",{staticClass:"d-flex my-auto"},[i("h2",{staticStyle:{"font-weight":"600","font-size":"17px"}},[t._v("Profile")])]),i("v-col",{staticClass:"d-flex my-auto",attrs:{cols:"auto"}},[i("v-icon",{attrs:{color:"black"},on:{click:function(e){t.$store.commit("chat/CLEAR_SINGLE_CONVERSATION"),t.$emit("chat-full",!1)}}},[t._v(" mdi-close ")])],1)],1),i("div",{staticClass:"pa-8"},[i("PublicProfileViewAs",{attrs:{user:t.$store.getters["chat/conversationDetails"].user}})],1)],1)},oe=[],re=i("f872"),le={components:{PublicProfileViewAs:re["a"]}},ce=le,ue=Object(f["a"])(ce,ae,oe,!1,null,null,null),de=ue.exports;v()(ue,{VCard:L["a"],VCol:Q["a"],VIcon:_["a"],VRow:et["a"]});var me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-empty"},[n("h1",[n("span",{staticClass:"greeting"},[t._v(t._s(t.$t("hello"))+", ")]),n("span",{staticClass:"name"},[t._v(t._s(t._f("fullname")(t.$store.getters["user/user"])))])]),n("p",[t._v(t._s(t.$t("messagesEmpty")))]),n("v-btn",{staticClass:"px-10 mt-3",attrs:{color:"primary",height:"48"},on:{click:function(e){return t.$router.push({name:"CompanySearch"})}}},[t._v(" "+t._s(t.$t("toJonderSearch"))+" ")]),n("v-img",{staticClass:"mx-auto mt-10",attrs:{width:"377",src:i("e755")}})],1)},he=[],pe={},fe=pe,ge=(i("740d"),Object(f["a"])(fe,me,he,!1,null,null,null)),ve=ge.exports;v()(ge,{VBtn:K["a"],VImg:S["a"]});var be=i("6f96"),_e={created:function(){this.init(),this.pollData()},beforeDestroy:function(){clearInterval(this.polling)},props:{isCompany:{type:Boolean,default:!1}},data:function(){return{messages:null,showProfile:!1,polling:null,chatFull:!1,chatLoading:!1}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])("chat",["getAllConversations","addPlaceholderMessage","getSingleConversation","startChat","seenMessage"])),{},{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.chatLoading=!0,e.next=3,t.getAllConversations();case 3:t.chatLoading=!1,"new"===t.$route.params.type&&t.$route.params.id&&t.startChat(t.$route.params.id);case 5:case"end":return e.stop()}}),e)})))()},pollData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.polling=setInterval(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.conversationDetails&&t.conversationDetails.user_id&&t.getSingleConversation({id:t.conversationDetails.id}),t.getAllConversations();case 2:case"end":return e.stop()}}),e)}))),5e3);case 1:case"end":return e.stop()}}),e)})))()}}),computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])("chat",["conversations","selectedConversation","conversationDetails"])),{},{isChatEmpty:function(){var t=this.$store.getters["chat/conversationDetails"].id;return this.conversations&&0==this.conversations.filter((function(e){return e.conversation.last_message||e.conversation.id==t})).length}}),components:{ChatMessages:se,ChatAsside:U,PublicProfile:de,Spinner:be["a"],ChatEmpty:ve}},ye=_e,we=Object(f["a"])(ye,n,s,!1,null,null,null);e["default"]=we.exports;v()(we,{VCol:Q["a"],VRow:et["a"]})},e635:function(t,e,i){},e755:function(t,e,i){t.exports=i.p+"img/messages_empty.9c541638.png"},eb2f:function(t,e,i){"use strict";i("6657")},ec01:function(t,e,i){"use strict";i("98f8")},ecb6:function(t,e,i){},ff44:function(t,e,i){}}]);
//# sourceMappingURL=Chat~Messages.fc796471.js.map